<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Network Topology</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <style>
        .device {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            position: absolute;
            cursor: move;
            color: black;
        }

        .connection {
            width: 50px;
            height: 50px;
            position: absolute;
        }

        #logo {
            width: 50px;
            height: 50px;
        }
    </style>
</head>

<body>
    <header>
        <img src="F:\mine\Templates\logo.png" alt="logo">
    </header>
    <h1>Network Topology</h1>

    <div id="device-options">
        <label for="device-select">Select Device:</label>
        <select id="device-select">
            <option value="router">Router</option>
            <option value="pc">PC</option>
            <option value="laptop">Laptop</option>
            <option value="switch">Switch</option>
            <option value="WAP">Wireless Access Point</option>
            <option value="firewall">Firewall</option>
            <option value="hub">Hub</option>
        </select>
    </div>

    <div id="topology-container"></div>

    <canvas id="myChart" width="400" height="200"></canvas>

    <script>
        const data = {
            labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
            datasets: [
                {
                    label: 'Traffic Data',
                    backgroundColor: 'rgba(75, 192, 192, 0.2)',
                    borderColor: 'rgba(75, 192, 192, 1)',
                    data: [65, 59, 80, 81, 56, 60, 40, 70, 92, 20, 70, 30],
                },
            ],
        };

        // Sample chart options
        const options = {
            scales: {
                y: {
                    beginAtZero: true,
                },
            },
        };

        // Get chart canvas element
        const ctx = document.getElementById('myChart').getContext('2d');

        // Create and render the chart
        const myChart = new Chart(ctx, {
            type: 'bar',
            data: data,
            options: options,
        });

        const devices = [];
        const connections = [];

        // Function to create the network topology visualization
        function createTopology() {
            const svg = d3.select('#topology-container').append('svg')
                .attr('width', 500)
                .attr('height', 300);

            // Create devices
            svg.selectAll('.device')
                .data(devices)
                .enter().append('circle')
                .attr('class', 'device')
                .attr('id', d => d.id)
                .attr('cx', d => d.x)
                .attr('cy', d => d.y)
                .attr('r', 25)
                .call(d3.drag().on('drag', drag));

            // Create connections
            svg.selectAll('.connection')
                .data(connections)
                .enter().append('line')
                .attr('class', 'connection')
                .attr('x1', d => devices.find(device => device.id === d.from).x)
                .attr('y1', d => devices.find(device => device.id === d.from).y)
                .attr('x2', d => devices.find(device => device.id === d.to).x)
                .attr('y2', d => devices.find(device => device.id === d.to).y);
        }

        // Function to handle device selection
        function addDevice() {
            const deviceType = document.getElementById('device-select').value;
            const newDevice = { id: `device${devices.length + 1}`, type: deviceType, x: 250, y: 150 };
            devices.push(newDevice);
            createTopology();
        }

        // Function to handle device dragging
        function drag(event, d) {
            const { x, y } = d3.event;
            d3.select(this).attr('cx', d.x = x).attr('cy', d.y = y);

            // Update connection positions
            d3.selectAll('.connection')
                .attr('x1', c => devices.find(device => device.id === c.from).x)
                .attr('y1', c => devices.find(device => device.id === c.from).y)
                .attr('x2', c => devices.find(device => device.id === c.to).x)
                .attr('y2', c => devices.find(device => device.id === c.to).y);
        }

        // Call the function to create the network topology
        createTopology();
    </script>
</body>

</html>
